
use serde::Deserialize;
use serde_json::Value;

#[derive(Debug, Deserialize)]
pub struct WebhookEnvelope {
    pub event: String,
    pub instance: String,
    pub data: Value, // ðŸ‘ˆ por ahora genÃ©rico
    pub destination: Option<String>,
    pub date_time: Option<String>,
    pub sender: Option<String>,
    pub server_url: Option<String>,
    pub apikey: Option<String>,
}

#[derive(Debug, Deserialize)]
pub struct WebhookEvent {
    pub event: String,
    pub data: MessageData,
}

#[derive(Debug, Deserialize)]
pub struct MessageData {
    pub key: MessageKey,
    pub message: Option<MessageContent>,
}

#[derive(Debug, Deserialize)]
pub struct MessageKey {
    #[serde(rename = "remoteJid")]
    pub remote_jid: String,
    #[serde(rename = "fromMe")]
    pub from_me: bool,
}

#[derive(Debug, Deserialize)]
pub struct MessageContent {
    pub conversation: Option<String>,
}